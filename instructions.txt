First terminal:
1. .\gradlew build
2. $env:JWT_SECRET = "this-is-a-very-long-secret-key-123456"
3. $env:MONGO_LOGS_URI = "mongodb://root:root@localhost:27017/logs?authSource=admin"
4. $env:MONGO_META_URI = "mongodb://root:root@localhost:27018/meta?authSource=admin"
5. $env:NEXT_PUBLIC_COLLECTOR_URL = "http://localhost:8080"
{Run Docker Desktop}
6. docker compose up -d mongo_logs mongo_meta
7. .\gradlew.bat :collector-service:bootRun

Second Terminal:
1. cd dashboard
2. npm run dev
3. login with username: admin and password: admin

Third Terminal:
////////////////////////////INSERT (only statusCode, latencyMs, rateLimitHit, and the meta block change)

Slow
1. docker exec -i api-monitoring-mongo-logs mongosh mongodb://root:root@localhost:27017/logs?authSource=admin --quiet --eval "db.api_logs.insertOne({ serviceName: 'orders-service', endpoint: '/api/orders', method: 'POST', statusCode: 200, latencyMs: 1400, rateLimitHit: false, requestSize: 512, responseSize: 256, timestamp: new Date(), meta: { scenario: 'slow-path', notes: 'Latency spike demo' } })"

Broken
2. docker exec -i api-monitoring-mongo-logs mongosh mongodb://root:root@localhost:27017/logs?authSource=admin --quiet --eval "db.api_logs.insertOne({ serviceName: 'orders-service', endpoint: '/api/orders', method: 'POST', statusCode: 502, latencyMs: 340, rateLimitHit: false, requestSize: 480, responseSize: 210, timestamp: new Date(), meta: { scenario: 'broken-endpoint', error: 'Simulated downstream failure' } })"

Rate Limit
3. docker exec -i api-monitoring-mongo-logs mongosh mongodb://root:root@localhost:27017/logs?authSource=admin --quiet --eval "db.api_logs.insertOne({ serviceName: 'orders-service', endpoint: '/api/orders', method: 'POST', statusCode: 200, latencyMs: 75, rateLimitHit: true, requestSize: 300, responseSize: 180, timestamp: new Date(), meta: { scenario: 'rate-limit', bucket: 'orders' } })"

///////////////////////////UPSERT

SLOW
4. docker exec -i api-monitoring-mongo-meta mongosh mongodb://root:root@localhost:27017/meta?authSource=admin --quiet --eval "db.alerts.updateOne({ _id: 'orders-slow' }, { `$set: { _id: 'orders-slow', serviceName: 'orders-service', endpoint: '/api/orders', severity: 'HIGH', summary: 'Slow endpoint detected', status: 'ACTIVE', type: 'LATENCY', createdAt: new Date(), updatedAt: new Date() } }, { upsert: true })"

BROKEN
5. Set-Location "C:\Users\shaun\OneDrive\Desktop\ts tuff n pmo\nugget"; docker exec -i api-monitoring-mongo-meta mongosh mongodb://root:root@localhost:27017/meta?authSource=admin --quiet --eval "db.alerts.updateOne({ _id: 'orders-broken' }, { `$set: { _id: 'orders-broken', serviceName: 'orders-service', endpoint: '/api/orders', severity: 'CRITICAL', summary: 'Broken endpoint detected', status: 'ACTIVE', type: 'ERROR', createdAt: new Date(), updatedAt: new Date() } }, { upsert: true })"

RATE LIMIT
6. docker exec -i api-monitoring-mongo-meta mongosh mongodb://root:root@localhost:27017/meta?authSource=admin --quiet --eval "db.alerts.updateOne({ _id: 'orders-rate-limit' }, { `$set: { _id: 'orders-rate-limit', serviceName: 'orders-service', endpoint: '/api/orders', severity: 'MEDIUM', summary: 'Rate limit exceeded', status: 'ACTIVE', type: 'RATE_LIMIT', createdAt: new Date(), updatedAt: new Date() } }, { upsert: true })

7. .\scripts\dump-logs.ps1
8. .\scripts\dump-alerts.ps1

Open Issues
9.docker exec -i api-monitoring-mongo-meta mongosh mongodb://root:root@localhost:27017/meta?authSource=admin --quiet --eval "db.issues.insertOne({ title: 'Investigate slow orders endpoint', description: 'Latency remains high for POST /api/orders after 18:30 UTC.', createdAt: new Date(), createdBy: 'demo-user', status: 'OPEN' })"

Browser walkthrough:
1. Refresh http://localhost:3000 after the inserts finish.
2. Log in with admin/admin if prompted, open the Overview cards, and call out the slow/broken/rate-limit tiles.
3. Navigate to Alerts, show the new alert, resolve it, and demonstrate the Logs table filters.

Wrap-up:
1. Return to the original PowerShell window and run .\scripts\stop-all.ps1
2. docker compose down mongo_logs mongo_meta
3. Close any leftover terminals once everything stops.
